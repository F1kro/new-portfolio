---
import '../styles/global.css';
import  SpaceBackground  from '../components/SpaceBackground.tsx';
const { title = "Masfiq | Portfolio" } = Astro.props;
---
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{title}</title>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    </head>
<body class="bg-black text-white selection:bg-blue-500/30 overflow-x-hidden">
    <SpaceBackground client:load />
    <nav class="fixed top-0 left-0 w-full z-50 border-b border-white/5 bg-black/60 backdrop-blur-md transition-all duration-300">
        <div class="max-w-4xl mx-auto px-6 h-16 flex justify-between items-center relative">
            <div class="font-bold text-xl tracking-tighter">
                Fiqro Najiah<span class="text-blue-500">.</span>
            </div>
            
            <div class="flex items-center gap-4">
                <div id="nav-menu" class="hidden md:flex fixed md:relative top-20 md:top-0 left-1/2 md:left-auto -translate-x-1/2 md:translate-x-0 w-[90%] md:w-auto bg-black md:bg-transparent border border-white/20 md:border-none p-6 md:p-0 flex-col md:flex-row gap-4 md:gap-8 text-[11px] font-mono uppercase tracking-widest text-white z-[100] rounded-xl shadow-[0_0_30px_rgba(0,0,0,1)] text-center md:text-left">
                    <a href="/" class="hover:text-blue-400 transition-colors py-3 md:py-0 border-b border-white/10 md:border-none">Home</a>
                    <a href="/experiences" class="hover:text-white transition-colors py-3 md:py-0 border-b border-white/10 md:border-none">Experience</a>
                    <a href="/projects" class="hover:text-white transition-colors py-3 md:py-0 border-b border-white/10 md:border-none">Projects</a>
                    <a href="/blogs" class="hover:text-white transition-colors py-3 md:py-0 border-b border-white/10 md:border-none">Blog</a>
                    <a href="/contact" class="hover:text-white transition-colors py-3 md:py-0">Contact</a>
                </div>
                
                <button onclick="document.documentElement.classList.toggle('light-mode')" class="p-2 border border-white/10 rounded-full hover:bg-white/5 transition-all text-slate-400 hover:text-white">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707m12.728 0l-.707-.707M6.343 6.343l-.707-.707M12 5a7 7 0 100 14 7 7 0 000-14z"></path>
                    </svg>
                </button>
    
                <button id="menu-toggle" class="md:hidden p-2 border border-white/10 rounded-lg text-slate-400 hover:text-white z-[110]">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path id="burger-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>
    
    <script is:inline>
        function initNav() {
            const toggle = document.getElementById('menu-toggle');
            const menu = document.getElementById('nav-menu');
            
            if (toggle && menu) {
                toggle.replaceWith(toggle.cloneNode(true));
                const newToggle = document.getElementById('menu-toggle');
                
                newToggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    menu.classList.toggle('hidden');
                    menu.classList.toggle('flex');
                });
    
                // Tutup menu kalo klik di luar atau klik link
                document.addEventListener('click', (e) => {
                    if (!menu.contains(e.target) && !newToggle.contains(e.target)) {
                        menu.classList.add('hidden');
                        menu.classList.remove('flex');
                    }
                });
    
                menu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        if (window.innerWidth < 768) {
                            menu.classList.add('hidden');
                            menu.classList.remove('flex');
                        }
                    });
                });
            }
        }
    
        initNav();
        document.addEventListener('astro:after-swap', initNav);
    </script>

    <main class="relative z-10 max-w-4xl mx-auto px-6 pt-32">
        <slot />
    </main>

    <footer class="relative z-10 max-w-4xl mx-auto px-6 py-12 border-t border-white/5 mt-20 flex flex-col md:flex-row justify-between items-center gap-6 text-[10px] font-mono text-slate-600 uppercase tracking-[0.3em]">
        <div class="flex items-center gap-2 font-bold text-white">
            <span class="w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-[10px] italic">M</span>
            FIQRO NAJIAH
        </div>
        
        <div class="flex gap-8 lowercase">
            <a href="https://github.com/F1kro" class="hover:text-white transition-colors">github</a>
            <a href="#" class="hover:text-white transition-colors">linkedin</a>
        </div>
        
        <button onclick="window.scrollTo({top:0, behavior:'smooth'})" class="hover:text-white transition-colors">
            â†‘ back to top
        </button>
    </footer>

  
</body>
</html>

<style is:global>
    /* Global Card Style */
    .card {
        @apply rounded-xl border border-white/20 bg-transparent p-8 transition-all duration-500;
    }
    .card:hover {
        @apply bg-[#050505] border-white/40;
    }

    /* White Mode Fix */
    .light-mode {
        filter: invert(1) hue-rotate(180deg);
        background-color: #fff;
    }

    .light-mode #space-canvas,
    .light-mode img:not(.github-chart) {
        filter: invert(1) hue-rotate(180deg);
    }

    /* GitHub Chart tetap hijau di White Mode */
    .light-mode #github img, 
    .light-mode .github-chart {
        filter: none !important;
        mix-blend-mode: multiply;
    }

    .hero-name {
        background: linear-gradient(135deg, #ffffff 40%, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    :root {
            /* Set Josefin Sans sebagai font utama */
            font-family: 'Josefin Sans', sans-serif;
        }
    
        body {
            font-family: 'Josefin Sans', sans-serif;
        }
    
        /* Josefin Sans cenderung terlihat lebih kecil, 
           jadi kita naikin sedikit tracking-nya biar makin estetik */
        h1, h2, h3, h4 {
            letter-spacing: -0.02em;
        }
    
        /* Kalau lu mau teks yang pake font-mono juga ganti Josefin,
           tapi tetep keliatan techy, tambahin ini: */
        .font-mono {
            font-family: 'Josefin Sans', sans-serif !important;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0.2em;
        }
</style>